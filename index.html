<!DOCTYPE html>
<html lang="en">
    <head>    
        <link rel="stylesheet" href="css/styles.css"/>
        <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"/>
        <!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous"/> -->

        <title>music player</title>
    </head>
    <body>
      <div class="background">
        <video id="video-background" muted loop width="100%">
            <source src="assets/video/video.mov">
          </source> 
        </video>
      
        <div class="container" id="container">
          <div class="header">
            <h1>Music Player</h1>
            <button id="btn-change-background" onclick="playVideo()">
              <!-- <p style="color: white;">Party Mode</p> -->
              <i class="fa fa-music " style="color:white; padding:2px"></i>
            
            </button>
          </div>

          <div class="center">
            <div >
              <div class="playpause-track" id="playpause-track" onclick="playPauseTrack()">
                <i class="fa fa-play-circle fa-3x"></i>
              </div>
              <audio src="assets/music/music.mp3" id="audio"></audio>
            </div>
  

            <div class="progress-bar">
              <input type="range" id="progressBar" min="0" max="" value="0" />
            </div>
            <div class="track-time">
              <div id="currentTime"></div>
              <div id="durationTime"></div>
            </div>

          </div>

        </div>
      </div>
      <!-- <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script> -->

       <script> 
        const background = document.getElementById("video-background")
        const container = document.getElementById("container")
        let playVideoBtn = document.getElementById("btn-change-background")
        const playPauseTrackBtn = document.getElementById("playpause-track")
        const audio = document.getElementById("audio")
        const progressBar = document.getElementById("progressBar")
        // playVideoBtn.addEventListener("click", (e)=>{
        //   background.innerHTML = 
        //     '<video id="video" autoplay muted loop width="100%"><source src="assets/video/video.mov"></source> </video>'
        // })

        function playVideo(){
          if(background.paused){
            background.play();
            playVideoBtn.style.backgroundColor = 'black'
          }else{
            background.pause()
            playVideoBtn.style.backgroundColor = 'transparent'
            // playVideoBtn.innerHTML = '<p style="color: white;">Party Mode</p>'
          }
        }

        function playPauseTrack(){
          if(audio.paused){
            audio.play();
            playPauseTrackBtn.innerHTML = '<i class="fa fa-pause-circle fa-3x"></i>';
          }else{
            audio.pause();
            playPauseTrackBtn.innerHTML = '<i class="fa fa-play-circle fa-3x"></i>';

          }
        }


        function progressValue() {
          progressBar.max = track.duration;
          progressBar.value = track.currentTime;

          currentTime.textContent = formatTime(track.currentTime);
          durationTime.textContent = formatTime(track.duration);
        }

        setInterval(progressValue, 500);

        function formatTime(sec) {
          let minutes = Math.floor(sec / 60);
          let seconds = Math.floor(sec - minutes * 60);
          if (seconds < 10) {
            seconds = `0${seconds}`;
          }
          return `${minutes}:${seconds}`;
        }

        function changeProgressBar() {
          track.currentTime = progressBar.value;
        }

        progressBar.addEventListener("click", changeProgressBar);

        document.addEventListener('keyup', (event) => {
          var name = event.key;
          var code = event.code;
          // Alert the key name and key code on keydown
          alert(`Key pressed ${name} \r\n Key code value: ${code}`);
        }, false);
 
        </script>
    </body>

</html>